@model IEnumerable<Klir.TechChallenge.SharedLib.Shared.Models.ProductResource>
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@


@foreach (var product in Model)
{
        <div class="col-md-3">
            <div class="card">
                @{var item = product.ImageUrl.Split(".").Last(); }
                @if (item == "mp4")
                {
        <video loop="loop" muted autoplay="autoplay" style="width:100%; max-height:100%;">
            <source src="@Url.Content(product.ImageUrl)" type="video/mp4" />
        </video> }
                        else
                        {
        <img src="@Url.Content(product.ImageUrl)" class=" card-img-top img-fluid" height="50" width="100">}
            <div class="card-body" style="padding:0">
                <div class="col-sm-12" style="padding:0">
                    <h6 style="text-align:center">@product.Name</h6>
                </div>

                <div class="col-sm-12">
                    <div class="row">
                        <div class="col-sm-6" style="padding:0">
                            <p> Price: $@(string.Format("{0:N}", product.Price))</p>

                        </div>
                        <div class="col-sm-6">
                            <a class="btn btn-primary btn-sm pull-right" asp-route-id="@product.Id" asp-controller="ShoppingCart" asp-action="Create"> Detail</a>
                        </div>
                    </div>
                </div>
                @if (product.PromoResource.PromoDescription != null)
                {
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-11" style="padding:0">
                                <p> <strong>Price: </strong> @product.PromoResource.PromoDescription</p>

                            </div>
                        </div>
                    </div>
                }

            </div>
            </div>
        </div>
 }